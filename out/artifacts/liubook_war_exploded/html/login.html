<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>LYP</title>
    <script src="/assets/js/vue.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="https://unpkg.com/element-ui/lib/index.js"></script>
    <link rel="stylesheet" href="/assets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="/assets/css/styles.css">
    <script src="/assets/js/jquery.min.js"></script>
    <script src="/assets/bootstrap/js/bootstrap.min.js"></script>
    <script src="https://cdn.bootcss.com/qs/6.5.1/qs.min.js"></script>
</head>
<body style="background:url(/assets/img/star-sky.jpg); background-position-x: initial;background-position-y: initial;
    background-size: cover;
    background-repeat-x: initial;
    background-repeat-y: initial;
    background-attachment: initial;
    background-origin: initial;
    background-clip: initial;">
<div class="container" id="logAndSign" style="text-align: center;">
    <el-card class="box-card" shadow="always" style="width:50%;margin-left: 25%;margin-top:15%">
        <el-tabs v-model="activeName" @tab-click="handleClick">
            <el-tab-pane label="登录" name="first">
                <el-form ref="form" :model="form" label-width="80px">
                    <el-form-item label="邮箱:" style="margin-left: 20%">
                        <el-input v-model="form.loginEmail" placeholder="Email" style="margin-right:200px;width: 50%"></el-input>
                    </el-form-item>
                    <el-form-item label="密码:" style="margin-left: 20%">
                        <el-input v-model="form.loginPwd" placeholder="Password" style="margin-right:200px;width: 50%"></el-input>
                    </el-form-item>
                    <el-form-item  style="margin-right:15%">
                        <el-button type="primary" @click="login">登录</el-button>
                    </el-form-item>
                </el-form>
            </el-tab-pane>
            <el-tab-pane label="注册" name="second">
                <el-form ref="form" :model="form" label-width="80px">
                    <el-form-item label="邮箱:" style="margin-left: 20%">
                        <el-input v-model="form.signEmail" placeholder="Email" style="margin-right:200px;width: 50%"></el-input>
                    </el-form-item>
                    <el-form-item label="密码:" style="margin-left: 20%">
                        <el-input v-model="form.sign" placeholder="Password" style="margin-right:200px;width: 50%"></el-input>
                    </el-form-item>
                    <el-form-item label="验证码:" style="margin-left: 23%">
                        <el-input v-model="form.code" placeholder="code" style="margin-right:200px;width: 55%"></el-input>
                    </el-form-item>
                    <el-form-item  v-show ="signShow" style="margin-right:15%">
                        <el-button type="primary" @click="signup">注册</el-button>
                    </el-form-item>
                    <el-form-item v-show="sendShow" style="margin-right:15%">
                        <el-button type="primary" @click="send">发送邮箱</el-button>
                    </el-form-item>
                </el-form>
            </el-tab-pane>
        </el-tabs>
    </el-card>

</div>
<script>
    var logAndSign = new Vue({
        el:"#logAndSign",
        data(){
            return{
                form:{
                    loginEmail:"",
                    loginPwd:"",
                    signEmail:"",
                    signPwd:"",
                    code:"",
                },
                activeName: 'first',
                sendShow:true,
                signShow:false,
            }
        },
        methods:{
            handleClick(tab, event) {
                console.log(tab, event);
            },
            login(){
                var postdata ={email : this.form.loginEmail,
                    password : this.form.loginPwd
                };
                console.log(postdata)
             axios.post('/user/login',
                 Qs.stringify({
                     email:this.form.loginEmail,
                     password:this.form.loginPwd
                 })
                    ).then(function (res) {
                    console.log(res)
                })
            },
            signup(){

            },
            send(){
                this.sendShow=false
                this.signShow=true
            },
        }
    })
</script>
</body>
</html>